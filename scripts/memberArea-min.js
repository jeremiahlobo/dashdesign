var modalHandler={ajaxHandler:function(e,a,r){console.log(r),$.ajax({url:baseURL+e,type:a,data:r,success:function(){thankYouModal.empty(),thankYouModal.dialog(modal.modalLayout("300","200",!0,modal.thankYouCustoms.thankYouButtons,modal.thankYouCustoms.titleModal)),thankYouModal.append("<p>Thank you for your confirmation. Please be patient as the page loads with your changes.</p>"),thankYouModal.dialog("open")},error:function(e,a){thankYouModal.empty(),thankYouModal.dialog(modal.modalLayout("300","200",!0,modal.thankYouCustoms.thankYouButtons,modal.thankYouCustoms.titleModal)),thankYouModal.append("Status: "+a+"<br>Unfortunately we can't complete your request right now. Please Contact Your Administrator"),thankYouModal.dialog("open")}})},validate:function(){formName=$("form").attr("class"),$.validator.setDefaults({errorPlacement:function(e,a){"checkbox"===a.prop("type")?e.insertAfter(a.parent()):e.insertAfter(a)}}),$("."+formName).validate({rules:{handle:{required:!0},url:{required:!0},street1:{required:!0},postalCode:{required:!0},areaCode:{required:!0},phoneNumber:{required:!0},clergyFirstName:{required:!0},clergyLastName:{required:!0},dayOfMonth:{required:!0},Month:{required:!0,minlength:1},email:{required:!1},language:{required:!0}}}),$("."+formName).valid()?(confirmModal.dialog(modal.modalLayout("600","500",!0,modal.confirmCustoms.confirmButtons,modal.confirmCustoms.titleModal)),confirmModal.empty(),address.confirmMessage().length>0?confirmModal.append(address.confirmMessage()):phone.confirmMessage().length>0?confirmModal.append(phone.confirmMessage()):social.confirmMessage().length>0?confirmModal.append(social.confirmMessage()):website.confirmMessage().length>0?confirmModal.append(website.confirmMessage()):email.confirmMessage().length>0?confirmModal.append(email.confirmMessage()):clergy.confirmMessage().length>0?confirmModal.append(clergy.confirmMessage()):events.confirmMessage().length>0&&confirmModal.append(events.confirmMessage()),confirmModal.dialog("open")):$("."+formName).valid()},confirmSuccess:function(){Object.keys(address.postAjaxArray()).length>0?modalHandler.ajaxHandler("admin/update","post",address.postAjaxArray()):Object.keys(phone.postAjaxArray()).length>0?modalHandler.ajaxHandler("admin/update","post",phone.postAjaxArray()):Object.keys(social.postAjaxArray()).length>0?modalHandler.ajaxHandler("admin/update","post",social.postAjaxArray()):Object.keys(website.postAjaxArray()).length>0?modalHandler.ajaxHandler("admin/update","post",website.postAjaxArray()):Object.keys(clergy.postAjaxArray()).length>0?modalHandler.ajaxHandler("admin/update","post",clergy.postAjaxArray()):Object.keys(email.postAjaxArray()).length>0?modalHandler.ajaxHandler("admin/update","post",email.postAjaxArray()):Object.keys(events.postAjaxArray()).length>0&&modalHandler.ajaxHandler("admin/update","post",events.postAjaxArray())},thankYouSuccess:function(){addEditModal.dialog("close"),confirmModal.dialog("close"),$(this).dialog("close"),userValues={},location.reload()}},dataHunter={serializeForm:function(e){var a=[],r={};return $("."+e+" :input").each(function(e,t){if(a.cid=cid,a.aid=aid,a.phid=phid,a.wbid=wbid,a.emid=emid,a.evtSchid=evtSchid,r.cid=cid,r.aid=aid,r.phid=phid,r.socid=socid,r.wbid=wbid,r.emid=emid,r.eventID=eventid,r.evtSchid=evtSchid,r.clergyid=clergyid,r.pid=pid,$(t).is("input")){if($(this).is(":checked"))if("dayOfweek[]"===$(this).attr("name")||"Month"===$(this).attr("name")){var s=[];$('input[name="'+$(t).attr("name")+'"]:checked').each(function(){s.push($(this).val())}),a[$(t).attr("name")]=s,r[$(t).attr("name")]=s}else a[$(t).attr("name")]=$(t).val(),r[$(t).attr("name")]=$(t).val();"text"===$(t).attr("type")&&("dayOfMonth"===$(t).attr("name")?"0"!==$(t).val()&&(a[$(t).attr("name")]=$(t).val(),r[$(t).attr("name")]=$(t).val()):(a[$(t).attr("name")]=$(t).val(),r[$(t).attr("name")]=$(t).val()))}else if($(t).is("select"))if("language"===$(this).attr("name")){var o=[],d=[];$('select[name="'+$(t).attr("name")+'"] :selected').each(function(){d.push($(this).text()),o.push($(this).val())}),a[$(t).attr("name")]=d,r[$(t).attr("name")]=o}else a[$(t).attr("name")]=$('select[name="'+$(t).attr("name")+'"] option:selected').text(),r[$(t).attr("name")]=$('select[name="'+$(t).attr("name")+'"] option:selected').val();else a[$(t).attr("name")]=$(t).find(":selected").text(),r[$(t).attr("name")]=$(t).val()}),[a,r]}},address={confirmMessage:function(){sourceArray=[],sourceArray=dataHunter.serializeForm("churchAddress")[0],message="";for(var e in sourceArray)switch(e){case"addressType":message+="Address Type : "+sourceArray[e]+" <br>";break;case"Street1":message+=e+" : "+sourceArray[e]+" <br>";break;case"city":message+="City : "+sourceArray[e]+" <br>";break;case"Abbreviation":message+="Province : "+sourceArray[e]+" <br>";break;case"postalCode":message+=e+" : "+sourceArray[e]+" <br>";break;case"latitude":message+=e+" : "+sourceArray[e]+" <br>";break;case"longitude":message+=e+" : "+sourceArray[e]+" <br>";break}return message},postAjaxArray:function(){return dataHunter.serializeForm("churchAddress")[1]}},phone={confirmMessage:function(){sourceArray=[],sourceArray=dataHunter.serializeForm("churchPhone")[0],message="";for(var e in sourceArray)switch(e){case"phoneType":message+="Phone Type : "+sourceArray[e]+" <br>";break;case"areaCode":message+="Area Code : "+sourceArray[e]+" <br>";break;case"phoneNumber":message+="Phone Number : "+sourceArray[e]+" <br>";break}return message},postAjaxArray:function(){return dataHunter.serializeForm("churchPhone")[1]}},social={confirmMessage:function(){sourceArray=[],sourceArray=dataHunter.serializeForm("churchSocial")[0],message="";for(var e in sourceArray)switch(e){case"socialType":message+="Social Type : "+sourceArray[e]+" <br>";break;case"handle":message+="Handle : "+sourceArray[e]+" <br>";break;case"url":message+="URL : "+sourceArray[e]+" <br>";break}return message},postAjaxArray:function(){return dataHunter.serializeForm("churchSocial")[1]}},website={confirmMessage:function(){sourceArray=[],sourceArray=dataHunter.serializeForm("churchWebsite")[0],message="";for(var e in sourceArray)switch(e){case"webType":message+="Web Type : "+sourceArray[e]+" <br>";break;case"website":message+=e+": "+sourceArray[e]+" <br>";break}return message},postAjaxArray:function(){return dataHunter.serializeForm("churchWebsite")[1]}},email={confirmMessage:function(){sourceArray=[],sourceArray=dataHunter.serializeForm("churchEmail")[0],message="";for(var e in sourceArray)switch(e){case"webType":message+="Web Type : "+sourceArray[e]+" <br>";break;case"website":message+=e+": "+sourceArray[e]+" <br>";break}return message},postAjaxArray:function(){return dataHunter.serializeForm("churchEmail")[1]}},events={confirmMessage:function(){sourceArray=[],sourceArray=dataHunter.serializeForm("churchEvents")[0],message="";for(var e in sourceArray)switch(e){case"eventType":message+="Event Type : "+sourceArray[e]+" <br>";break;case"Schedule":message+="Schedule : "+sourceArray[e]+" <br>";break;case"dayOfweek[]":message+="on the days of: "+sourceArray[e]+" <br>";break;case"startTime":message+=e+": "+sourceArray[e]+" <br>";break;case"endTime":message+=e+": "+sourceArray[e]+" <br>";break;case"Month":message+=sourceArray[e]+" of the month  <br>";break;case"dayOfMonth":message+="Day of the Month: "+sourceArray[e]+" <br>";break;case"language":message+="this event has language/s: "+sourceArray[e]+" <br>";break;case"description":message+="Description: "+sourceArray[e]+" <br>";break}return message},postAjaxArray:function(){return dataHunter.serializeForm("churchEvents")[1]}},clergy={confirmMessage:function(){sourceArray=[],sourceArray=dataHunter.serializeForm("churchClergy")[0],message="";for(var e in sourceArray)switch(e){case"clergyFirstName":message+="First Name : "+sourceArray[e]+" <br>";break;case"clergySecondName":message+="Second Name: "+sourceArray[e]+" <br>";break;case"clergyThirdName":message+="Third Name: "+sourceArray[e]+" <br>";break;case"clergyFourthName":message+="Fourth Name: "+sourceArray[e]+" <br>";break;case"clergyFifthName":message+="Fifth Name: "+sourceArray[e]+" <br>";break;case"clergySuffix":message+=" clergySuffix "+sourceArray[e]+" <br>";break;case"clergyPosition":message+=" clergyPosition "+sourceArray[e]+" <br>";break;case"clergyTitle":message+="clergyTitle: "+sourceArray[e]+" <br>";break}return message},postAjaxArray:function(){return dataHunter.serializeForm("churchClergy")[1]}};modal={modalLayout:function(e,a,r,t,s){return{height:e,title:s,width:a,modal:r,buttons:t}},addCustoms:{titleModal:"Please add new details",addButtons:{Add:modalHandler.validate,Cancel:function(){$("body").css("overflow","visible"),addEditModal.dialog("close")}}},editCustoms:{titleModal:"Please edit the details",editButtons:{Edit:modalHandler.validate,Cancel:function(e){$("body").css("overflow","visible"),addEditModal.dialog("close")}}},confirmCustoms:{titleModal:"Confirm your edits",confirmButtons:{Confirm:modalHandler.confirmSuccess,Back:function(e){confirmModal.dialog("close")}}},thankYouCustoms:{titleModal:"Sending Confirmationâ€¦",thankYouButtons:{Ok:modalHandler.thankYouSuccess}},ajaxrequest:function(e,a,r,t){return $.ajax({url:baseURL+e,type:"POST",data:a,success:function(e){addEditModal.empty(),addEditModal.append(e),addEditModal.dialog("open")},error:t})}};var actions={add:function(){switch($("body").css("overflow","hidden"),addEditModal.dialog(modal.modalLayout("600","500",!0,modal.addCustoms.addButtons,modal.addCustoms.titleModal)),this.getAttribute("class")){case"addChurchaddress":modal.ajaxrequest("admin/updateChurchInformation/updateChurchaddress",{cid:cid,add_address:!0});break;case"addChurchphone":modal.ajaxrequest("admin/updateChurchInformation/updateChurchphone",{cid:cid,add_phone:!0});break;case"addChurchwebsite":modal.ajaxrequest("admin/updateChurchInformation/updateChurchwebsite",{cid:cid,add_website:!0});break;case"addChurchsocial":modal.ajaxrequest("admin/updateChurchInformation/updateChurchsocial",{cid:cid,add_social:!0});break;case"addChurchemail":modal.ajaxrequest("admin/updateChurchInformation/updateChurchemail",{cid:cid,add_email:!0});break;case"addChurchevent":modal.ajaxrequest("admin/updateChurchInformation/updateChurchevent",{cid:cid,add_events:!0});break;case"addChurchclergy":modal.ajaxrequest("admin/updateChurchInformation/updateChurchclergy",{cid:cid,add_clergy:!0});break}},edit:function(){switch($("body").css("overflow","hidden"),addEditModal.dialog(modal.modalLayout("800","500",!0,modal.editCustoms.editButtons,modal.editCustoms.titleModal)),this.getAttribute("class")){case"editChurchaddress":modal.ajaxrequest("admin/updateChurchInformation/updateChurchaddress",{cid:cid,aid:aid});break;case"editChurchphone":modal.ajaxrequest("admin/updateChurchInformation/updateChurchphone",{cid:cid,phid:phid});break;case"editChurchsocial":modal.ajaxrequest("admin/updateChurchInformation/updateChurchsocial",{cid:cid,socid:socid});break;case"editChurchwebsite":modal.ajaxrequest("admin/updateChurchInformation/updateChurchwebsite",{cid:cid,wbid:wbid});break;case"editChurchclergy":window.location.href=baseURL+"admin/updateChurchInformation/updateChurchclergy/"+clergyid;break;case"editChurchemail":modal.ajaxrequest("admin/updateChurchInformation/updateChurchemail",{cid:cid,emid:emid});break;case"editChurchevent":modal.ajaxrequest("admin/updateChurchInformation/updateChurchevent",{cid:cid,evtSchid:evtSchid});break}}};$(" button[data-click] ").on("click",function(e){addEditModal=$(".addEditModal"),confirmModal=$(".confirmModal"),thankYouModal=$(".thankYouModal"),userValues={},cid=$(this).data("cid"),pid=$(this).data("pid"),aid=$(this).data("aid"),phid=$(this).data("phid"),socid=$(this).data("socid"),wbid=$(this).data("wbid"),emid=$(this).data("emid"),clergyid=$(this).data("clergyid"),evtSchid=$(this).data("eventscheduleid"),eventid=$(this).data("evtid");var a=$(this),r=a.data("click");e.preventDefault(),"function"==typeof actions[r]&&actions[r].call(this,e)});